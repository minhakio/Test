<h3>ğŸ“ Nháº­p Ä‘á»‹a chá»‰ khÃ¡ch</h3>
<input id="address" placeholder="VÃ­ dá»¥: La PhÃ¹ HoÃ i Äá»©c HÃ  Ná»™i">
<button onclick="calc()">TÃ­nh KM</button>

<div id="out"></div>

<script>
const STORE = {
  lat: 21.0278,
  lng: 105.8342
};

async function calc() {
  const addr = document.getElementById('address').value;
  if (!addr) return alert('Nháº­p Ä‘á»‹a chá»‰');

  // 1. Äá»‹a chá»‰ â†’ tá»a Ä‘á»™
  const geoUrl = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(addr)}&format=json&limit=1`;
  const geo = await fetch(geoUrl).then(r => r.json());
  if (!geo.length) return alert('KhÃ´ng tÃ¬m tháº¥y Ä‘á»‹a chá»‰');

  const lat = geo[0].lat;
  const lng = geo[0].lon;

  // 2. TÃ­nh km báº±ng OSRM
  const routeUrl = `https://router.project-osrm.org/route/v1/driving/${STORE.lng},${STORE.lat};${lng},${lat}?overview=false`;
  const route = await fetch(routeUrl).then(r => r.json());

  const km = (route.routes[0].distance / 1000).toFixed(2);

  document.getElementById('out').innerHTML =
    `ğŸ“ Khoáº£ng cÃ¡ch: <b>${km} km</b>`;
}
</script>
