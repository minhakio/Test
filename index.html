<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Test API KM</title>
<style>
body { font-family: Arial; max-width: 500px; margin: 30px auto; }
input, button { width: 100%; padding: 10px; margin: 5px 0; }
.result { background: #f5f5f5; padding: 10px; margin-top: 10px; }
</style>
</head>
<body>

<h2>ğŸšš Test tÃ­nh KM & phÃ­ ship</h2>

<label>Khoáº£ng cÃ¡ch (km)</label>
<input type="number" id="km" placeholder="VÃ­ dá»¥: 4.2">

<button onclick="calc()">TÃ­nh phÃ­ ship</button>

<div class="result" id="result"></div>

<script>
const API_URL = './api.json';

async function calc() {
  const km = parseFloat(document.getElementById('km').value);
  if (isNaN(km)) return alert('Nháº­p km há»£p lá»‡');

  const res = await fetch(API_URL);
  const data = await res.json();

  let price = null;
  let zoneName = '';

  for (const z of data.zones) {
    if (km >= z.from_km && km < z.to_km) {
      price = z.price;
      zoneName = z.name;
      break;
    }
  }

  document.getElementById('result').innerHTML = price
    ? `ğŸ“ VÃ¹ng: <b>${zoneName}</b><br>ğŸ“ KM: <b>${km}</b><br>ğŸ’° PhÃ­ ship: <b>${price.toLocaleString()} Ä‘</b>`
    : 'âŒ KhÃ´ng cÃ³ báº£ng giÃ¡ phÃ¹ há»£p';
}
</script>

</body>
</html>
